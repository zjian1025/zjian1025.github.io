---
title: 前端编码规范整理
date: 2021-12-06 09:00:00
tags: 前端
categories: 规范
---

# 概念  
本文整理了前端的常用的编码规范，包括 html css js 一些常用的规范性的写法，能让项目整体更加军队化，易于维护

## HTML章节
1. **html头部声明统一**
2. **单标签不要写闭合标签**
3. **自定义属性要以data-开头**
4. **使用section标签增强SEO**
5. **html要保持简洁，不要套太多层**
6. **样式要写在head标签里**
7. **要在head标签靠前位置写上charset的meta标签**
8. **特殊符号使用html实体**
9. **DTD声明**
```
    <!DOCTYPE html>
```
1.  **页面编码统一**
    ```
    <meta charset="UTF-8"/> 
    ```
2.  **meta声明**
    -. **PC端注明: IE兼容/keywords/description**
    ```
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="title" content="优酷-中国领先视频网站,提供视频播放,视频发布,视频搜索 - 优酷视频">
        <meta name="keywords" content="视频,视频分享,视频搜索,视频播放,优酷视频">
        <meta name="description" content="视频服务平台,提供视频播放,视频发布,视频搜索,视频分享">
    ```
    -. **移动端注明：**
    ```
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="format-detection" content="telephone=no, address=no">
    ```
3.  引入CSS, JS
    **根据HTML5规范, 通常在引入CSS和JS时不需要指明 type，因为 text/css 和 text/javascript 分别是他们的默认值**
	**HTML5 规范链接：使用link，使用style，使用script**
    ```
        <!-- External CSS -->
        <link rel="stylesheet" href="code_guide.css">
        <!-- In-document CSS -->
        <style>
        ...
        </style>

        <!-- External JS -->
        <script src="code_guide.js"></script>

        <!-- In-document JS -->
        <script>
        ...
        </script>
    ```
14. **风格与易读性**
    -. **格式缩进**
        html编码统一格式化显示，使用一个Tab键进行分层缩进 (2个空格宽度)，使整个页面结构层次清晰，方便阅读和修改。
    -. **模块注释**
     ```
     <!-- start: XXX模块 -->
     <!-- end: XXX模块 -->
     或者：
     <!-- XXX模块 -->
     <!-- /XXX模块 -->
     ```
15. **标签与属性**
    -. **html标签和属性不区分大小写,建议都采用小写,尤其是自定义标签和属性名，否则js中取不到**
     ```
      <div data-bgColor="red"></div>
      $('div').data('bgColor');  // 取不到，已自动被浏览器转成了data-bgcolor
     ```
    -. **所有html属性必须添加双引号（非单引号）**
     ```
     // 禁止
     <div id=mainframe> 或 <div id='mainframe'>
     // 推荐
     <div id="mainframe"> 
     ```
    -. **标签属性顺序**
        属性应该按照特定的顺序出现以保证易读性
        class
    	id
    	name
    	data-*
    	src, for, type, href, value , max-length, max, min, pattern
    	placeholder, title, alt
    	aria-*, role
    	required, readonly, disabled
    	class是为高可复用组件设计的，所以应处在第一位；
    	id更加具体且应该尽量少使用，所以将它放在第二位
    -. **boolean属性**
        boolean属性指不需要声明取值的属性，XHTML需要每个属性声明取值，但是HTML5并不需要；
    	boolean属性的存在表示取值为true，不存在则表示取值为false。
        ```
    	<input type="text" disabled>
    	<input type="checkbox" value="1" checked>
    	<select>
    		<option value="1" selected>1</option>
    	</select>
        ```
16. **杂项**
    -.  **所有标签必须采用合理嵌套。**
    ```
        // 禁止
        <p><b></p></b>
        // 推荐
        <p><b></b></p>
        // 禁止inline级标签嵌套block级标签
        <span><div></div></span>
    ```
    -. **img标签中必须添加alt属性,alt 属性应尽可能的描述当前img**
    ```
        <img src="…" alt="这是一个本网站的logo" />
    ```
***

## CSS规范

1. **命名**
    - **类名使用小写字母，以中划线分隔**
    - **id 采用驼峰式命名**
    - **scss 中的变量、函数、混合、placeholder 采用驼峰式命名**
    - **ID 和 class 的名称总是使用可以反应元素目的和用途的名称，或其他通用的名称，代替表象和晦涩难懂的名称**
    ```
        不推荐：
		.fw-800 {
		  font-weight: 800;
		}
		.red {
		  color: red;
		}
		推荐:
		.heavy {
		  font-weight: 800;
		}
		.important {
		  color: red;
		}
    ```
2. **选择器**
    - **css 选择器中避免使用标签名**
    - **很多前端开发人员写选择器链的时候不使用 直接子选择器（注：直接子选择器和后代选择器的区别）**
    ```
        不推荐:
		.content .title {
		  font-size: 2rem;
		}
		推荐:
		.content > .title {
		  font-size: 2rem;
		}
    ```
    - **尽量使用缩写属性**
    ```
        不推荐：
		border-top-style: none;
		font-family: palatino, georgia, serif;
		font-size: 100%;
		line-height: 1.6;
		padding-bottom: 2em;
		padding-left: 1em;
		padding-right: 1em;
		padding-top: 0;
		推荐：
		border-top: 0;
		font: 100%/1.6 palatino, georgia, serif;
		padding: 0 1em 2em;
    ```
    - **每个选择器及属性独占一行**
    ```
        不推荐：
		button{
		  width:100px;height:50px;color:#fff;background:#00a0e9;
		}
		推荐：
		button{
		  width:100px;
		  height:50px;
		  color:#fff;
		  background:#00a0e9;
		}
    ```
    - **省略0后面的单位**
***

## js规范

1. **命名规范**
    - **避免单字母命名。命名应具备描述性，更加语义化**
    - **使用驼峰式命名对象、函数和实例**
    - **使用大驼峰（帕斯卡式）命名构造函数或类。**
    - **使用下划线 _ 开头命名私有属性**
    - **别保存 this 的引用。使用箭头函数或 Function#bind**
    - **若文件只输出一个类，则文件名应与类名完全保持一致**
    - **当你导出单例、函数库、空对象时使用帕斯卡式命名**
2. **引用**
    - **使用const 和 let**
    - **对所有的引用使用 const**
    - **对于可变的引用使用let**
3. **对象**
    - **使用字面量创建对象**
    ```
        const item = {};
    ```
        
    - **避免使用关键字作为对象的键值  如 var private**
    ```
        如 var private
    ```
    - **创建有动态属性名的对象时，使用可被计算的属性名称**
    ```
         function getKey(k) {
             return `a key named ${k}`;
         }
         const obj = {
             id: 5,
             name: 'San Francisco',
             [getKey('enabled')]: true,
         };
    ```
    - **使用es6的对象 方法，属性 的简写**
    ```
        const lukeSkywalker = 'Luke Skywalker';
        const atom = {
                value: 1,
                lukeSkywalker，
                addValue(value) {
                    return atom.value + value;
                },
            };
    ```
4. **数组**
    - **使用字面量创建数组**
    ```
        const items = [];
    ```
    - **使用 Arrary#push 替代直接赋值。**
    ```
        const someStack = [];
		someStack.push('abracadabra');
    ```
    - **使用拓展运算符 ... 复制数组。**
    ```
        const itemsCopy = [...items];
    ```
    - **使用 Array#from 把一个类数组对象转换成数组。**
    ```
        const foo = document.querySelectorAll('.foo');
		const nodes = Array.from(foo);
    ```
5. **解构**
    - **使用解构存取和使用多属性对象。**
    ```
        function getFullName({ firstName, lastName }) {
			return `${firstName} ${lastName}`;
		}
    ```
    - **对数组使用解构赋值。**
    ```
        const [first, second] = arr;
    ```
    - **需要回传多个值时，使用对象解构，而不是数组解构**
    ```
        // good
        function processInput(input) {
        // then a miracle occurs
        return { left, right, top, bottom };
        }

        // 调用时只选择需要的数据
        const { left, right } = processInput(input);
    ```
6. **字符串**
    - **字符串使用单引号 ''**
    ```
        const name = 'Capt. Janeway';
    ```
    - **字符串超过 80 个字节应该使用字符串连接号换行，但是过度使用字串连接符号可能会对性能造成影响**
    - **使用模板字符串代替字符串连接。**
    ```
        function sayHi(name) {
            return `How are you, ${name}?`;
        }
    ```
7. **函数**
    - **使用函数声明代替函数表达式。**
    ```
        // bad
		  const foo = function () {
		  };

		  // good
		  function foo() {
		  }
		
		// 立即调用的函数表达式 (IIFE)
		(() => {
		  console.log('Welcome to the Internet. Please follow me.');
		})();
		
		//不要在  if 或者 while等非函数代码块将函数赋值给一个变量
		//不要使用 arguments。可以选择 rest 语法 ... 替代。
		// good
		  function concatenateAll(...args) {
			return args.join('');
		  }
    ```
8. **构造函数**
    - **总是使用 class。避免直接操作 prototype 。**
    ```
        // bad
        function Queue(contents = []) {
            this._queue = [...contents];
        }
        Queue.prototype.pop = function() {
            const value = this._queue[0];
            this._queue.splice(0, 1);
            return value;
        }

        // good
        class Queue {
            constructor(contents = []) {
                this._queue = [...contents];
            }
            pop() {
                const value = this._queue[0];
                this._queue.splice(0, 1);
                return value;
            }
        }
    ```
    - **使用 extends 继承。因为 extends 是一个内建的原型继承方法并且不会破坏 instanceof。**
    ```
        // good
        class PeekableQueue extends Queue {
            peek() {
            return this._queue[0];
            }
        }
    ```
9.  **模块**
    - **使用模组 (import/export) 而不是其他非标准模块系统。你可以编译为你喜欢的模块系统。**
    ```
        // bad
        const AirbnbStyleGuide = require('./AirbnbStyleGuide');
        module.exports = AirbnbStyleGuide.es6;
        // ok
        import AirbnbStyleGuide from './AirbnbStyleGuide';
        export default AirbnbStyleGuide.es6;
        // best
        import { es6 } from './AirbnbStyleGuide';
        export default es6;
    ```
    - **不要使用通配符 import。这样能确保你只有一个默认 export。**
    ```
        // bad
        import * as AirbnbStyleGuide from './AirbnbStyleGuide';
        // good
        import AirbnbStyleGuide from './AirbnbStyleGuide';
    ```
    - **不要从 import 中直接 export。**
    ```
        // bad
        // filename es6.js
        export { es6 as default } from './airbnbStyleGuide';
        // good
        // filename es6.js
        import { es6 } from './AirbnbStyleGuide';
        export default es6;
    ```
10. **Iterators &amp; Generators**
    **不要使用 iterators。使用高阶函数例如 map() 和 reduce() 替代 for-of。**
	**现在还不要使用 generators。因为它们现在还没法很好地编译到 ES5。**
11. **属性**
    - **使用 . 来访问对象的属性。**
    ```
        const luke = {
		  jedi: true,
		  age: 28,
		};
		const isJedi = luke.jedi;
    ```
    - **当通过变量访问属性时使用中括号 []。**
    ```
        onst luke = {
		  jedi: true,
		  age: 28,
		};

		function getProp(prop) {
		  return luke[prop];
		}
		const isJedi = getProp('jedi');
    ```
12. **变量**
    - **避免使用全局变量**
    - **使用 let /const 声明每一个变量。**
    ```
        // bad
		const items = getItems(),
			goSportsTeam = true,
			dragonball = 'z';
			// good
		const items = getItems();
		const goSportsTeam = true;
		const dragonball = 'z';
    ```
    - **在你需要的地方给变量赋值，但请把它们放在一个合理的位置。（let 和 const 是块级作用域而不是函数作用域。）**
    ```
        function(hasName) {
            if (!hasName) {
                return false;
            }
            const name = getName();
            this.setFirstName(name);
            return true;
        }
    ```
    - **将所有的 const 和 let 分组**
    ```
        // good
        const goSportsTeam = true;
        const items = getItems();
        let dragonball;
        let i;
        let length;
    ```
13. **比较运算符 &amp; 等号**
    - **优先使用 === 和 !== 而不是 == 和 !=.**
    - **条件表达式例如 if 语句通过抽象方法 ToBoolean 强制计算它们的表达式并且总是遵守下面的规则**
        * 对象 被计算为 true
        * Undefined 被计算为 false
        * Null 被计算为 false
        * 布尔值 被计算为 布尔的值
        * 数字 如果是 +0、-0、或 NaN 被计算为 false, 否则为 true
        * 字符串 如果是空字符串 '' 被计算为 false，否则为 true
14. **代码块**
    - **使用大括号包裹所有的多行代码块。**
    - **如果通过 if 和 else 使用多行代码块，把 else 放在 if 代码块关闭括号的同一行。**
    ```
        // good
		if (test) {
		  thing1();
		  thing2();
		} else {
		  thing3();
		}
    ```
15. **注释**
    - **使用多行注释。包含描述、指定所有参数和返回值的类型和值。**
    ```
        /**
		 * make() returns a new element
		 * based on the passed in tag name
		 *
		 * @param {String} tag
		 * @return {Element} element
		 */
		function make(tag) {

		  // ...stuff...

		  return element;
		}
    ```
    - **使用 // 作为单行注释。在评论对象上面另起一行使用单行注释。在注释前插入空行。**
16. **空白**
    - **使用 2 个空格作为缩进。**
    - **在花括号前放一个空格。**
    - **控制语句（if、while 等）的小括号前放一个空格。在函数调用及声明中，不在函数的参数列表前加空格。**
    ```
        // bad
        if(isJedi) {
        fight ();
        }

        // good
        if (isJedi) {
        fight();
        }

        // bad
        function fight () {
        console.log ('Swooosh!');
        }

        // good
        function fight() {
        console.log('Swooosh!');
        }
    ```
    - **使用空格把运算符隔开。**
    ```
        // good
		const x = y + 5;
    ```
    - **在块末和新语句前插入空行。**
17. 逗号
    - **行首逗号：不需要。**
    - **增加结尾的逗号: 需要。**
    ```
        // good
        const hero = {
            firstName: 'Dana',
            lastName: 'Scully',
        };

        const heroes = [
            'Batman',
            'Superman',
        ];
    ``` 
18. 分号
    - **使用分号**
    ```
        // bad
		(function() {
		  const name = 'Skywalker'
		  return name
		})()

		// good
		(() => {
		  const name = 'Skywalker';
		  return name;
		})();

		// good (防止函数在两个 IIFE 合并时被当成一个参数)
        ;(() => {
		  const name = 'Skywalker';
		  return name;
		})();
    ```

***

**参考资料**
Airbnb JavaScript 代码规范（ES6）：https://www.kancloud.cn/kancloud/javascript-style-guide/43146

***

			

